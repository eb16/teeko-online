(this["webpackJsonpteeko-online"]=this["webpackJsonpteeko-online"]||[]).push([[0],{27:function(e,t,n){e.exports=n(45)},32:function(e,t,n){},33:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(9),l=n.n(c),i=(n(32),n(47)),u=n(25),d=(n(33),n(4)),s=n(13);!function(e){e[e.NONE=0]="NONE",e[e.PLAYER1=1]="PLAYER1",e[e.PLAYER2=2]="PLAYER2"}(a||(a={}));var b={board:[[a.PLAYER1,a.PLAYER2,a.PLAYER1,a.PLAYER2,a.NONE],Array(5).fill(a.NONE),Array(5).fill(a.NONE),Array(5).fill(a.NONE),[a.PLAYER2,a.PLAYER1,a.PLAYER2,a.PLAYER1,a.NONE]],activeCell:void 0},E=function(e,t){return Math.abs(e.x-t.x)<=1&&Math.abs(e.y-t.y)<=1},m=Object(s.b)({name:"game",initialState:b,reducers:{movePiece:function(e,t){var n=t.payload.to,r=e.activeCell;console.log(r),r&&e.board[n.x][n.y]===a.NONE&&E(r,n)&&(e.board[n.x][n.y]=e.board[r.x][r.y],e.board[r.x][r.y]=a.NONE,e.activeCell=void 0)},setActiveCell:function(e,t){e.activeCell=t.payload}}}),f=m.actions,g=f.movePiece,p=f.setActiveCell,y=function(e){return e.game.board},v=function(e){return e.game.activeCell},A=m.reducer,N=n(12),O=n(48);function x(e){var t=e.cell,n=e.location,r=Object(d.b)(),c=n.x,l=n.y,i=Object(d.c)(v),u=Object(O.a)({item:{payload:{x:c,y:l},type:a.PLAYER1.toString()},collect:function(e){return{isDragging:!!e.isDragging()}},begin:function(){return r(p({x:c,y:l}))}}),s=Object(N.a)(u,2),b=s[0].isDragging,E=s[1];return o.a.createElement("button",{ref:E,style:{padding:20,margin:5,border:"1px solid ".concat(i&&i.x===c&&i.y===l?"blue":"black"),background:t===a.PLAYER1?"black":"red",borderRadius:"50%",cursor:"move",opacity:b?.5:1,outlineStyle:"none"}})}var P=n(49);function R(e){e.cell;var t=e.location,n=Object(d.b)(),r=t.x,c=t.y,l=Object(d.c)(v),i=Object(P.a)({accept:a.PLAYER1.toString(),drop:function(){return n(g({to:{x:r,y:c}}))},canDrop:function(){return!!l&&E(l,{x:r,y:c})},collect:function(e){return{canDrop:!!e.canDrop()}}}),u=Object(N.a)(i,2),s=u[0].canDrop,b=u[1];return o.a.createElement("button",{ref:b,style:{padding:20,margin:5,border:"1px solid black",background:s?"#f9ffab":"white",borderRadius:"50%"}})}function h(){var e=Object(d.c)(y);return o.a.createElement("div",null,e.map((function(e,t){return o.a.createElement("div",null,e.map((function(e,n){return e===a.NONE?o.a.createElement(R,{cell:e,location:{x:t,y:n}}):o.a.createElement(x,{cell:e,location:{x:t,y:n}})})))})))}var L=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",{className:"App-logo"},"Teeko"),o.a.createElement(i.a,{backend:u.a},o.a.createElement(h,null))))},Y=Object(s.a)({reducer:{game:A}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(d.a,{store:Y},o.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.1fe6f9c8.chunk.js.map